# 快速开始指南

## 5分钟快速上手

### 步骤 1: 了解文件

```
lianghuatouzi/
├── strategy.py          # 主策略文件（独立运行）
├── strategy_v2.py       # 使用配置文件的版本
├── config.py            # 配置参数
├── cleanup.py           # 清理工具
├── examples.py          # 使用示例
├── README.md            # 详细文档
└── .gitignore          # Git忽略文件
```

### 步骤 2: 选择运行方式

#### 方式 A: 最简单（推荐新手）

直接使用 `strategy.py`，无需配置：

1. 复制 `strategy.py` 到聚宽研究环境
2. 点击运行
3. 等待完成（约10-30分钟）

#### 方式 B: 可配置（推荐进阶用户）

使用 `strategy_v2.py` + `config.py`：

1. 修改 `config.py` 中的参数
2. 复制 `config.py` 和 `strategy_v2.py` 到聚宽
3. 运行 `strategy_v2.py`

### 步骤 3: 查看结果

运行完成后会输出：

```
性能指标:
我的策略夏普    X.XXXX
基准ETF夏普      X.XXXX
信息比率        X.XXXX  <- 这是最重要的指标！

信息比率: X.XXXX
```

**信息比率评判标准：**
- \> 0.5：良好 ✓
- \> 1.0：优秀 ✓✓
- \> 1.5：卓越 ✓✓✓

## 常见问题

### Q1: 如何更改投资周期？

在 `config.py` 中修改：
```python
INVESTMENT_HORIZON = 'W'  # 'M'=月度, 'W'=周度, 'd'=日度
```

### Q2: 如何重新训练模型？

```bash
# 删除旧的模拟文件
python cleanup.py M

# 重新运行
python strategy_v2.py
```

### Q3: 如何提高信息比率？

尝试以下方法：
1. 调整模型参数（在 `config.py` 中）
2. 增加或减少因子类别
3. 调整选股数量
4. 优化集成权重

参考 `examples.py` 查看详细示例。

### Q4: 训练需要多长时间？

取决于投资周期和时间范围：
- 月度（M）：约10-20分钟
- 周度（W）：约20-40分钟
- 日度（d）：约1-2小时

### Q5: 出现错误怎么办？

常见错误及解决方法：

1. **导入错误**：确保在聚宽环境中运行
2. **数据错误**：检查日期范围是否有效
3. **内存错误**：尝试减少训练年数或选股数量

## 核心改进说明

相比原始的 Ridge 回归，新策略包含：

### 1. 多模型集成
- Ridge 回归（15%）
- Lasso 回归（15%）
- ElasticNet（15%）
- Random Forest（25%）
- Gradient Boosting（30%）

### 2. 更好的特征处理
- 标准化
- 极端值处理（对数变换）
- Winsorization（1%-99%）

### 3. 灵活配置
- 可调投资周期
- 可调因子组合
- 可调模型参数

## 进阶使用

### 实验不同配置

```python
# 实验 1: 更多因子
FACTOR_CATEGORIES = ['risk', 'basics', 'growth', 'value']

# 实验 2: 更多股票
N_STOCKS = 100

# 实验 3: 不同权重
ENSEMBLE_WEIGHTS = {
    'ridge': 0.10,
    'lasso': 0.10,
    'elastic': 0.10,
    'rf': 0.30,
    'gb': 0.40
}
```

每次实验后：
1. 清理旧文件：`python cleanup.py M`
2. 重新运行并记录信息比率
3. 比较不同配置的效果

## 最佳实践

1. ✓ 始终记录每次实验的配置和结果
2. ✓ 从默认配置开始，逐步调整
3. ✓ 关注信息比率作为主要指标
4. ✓ 注意防止过拟合
5. ✓ 定期备份重要结果

## 技术支持

遇到问题？
1. 查看 `README.md` 详细文档
2. 运行 `python examples.py` 查看示例
3. 检查 `config.py` 配置是否正确

## 下一步

1. **初学者**：运行默认配置，熟悉流程
2. **进阶者**：调整参数，优化信息比率
3. **高级者**：添加新因子，改进模型

祝投资顺利！📈
